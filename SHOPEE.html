<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Kalkulator Shopee vs Laba (Editable)</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f6f8;
  padding: 30px;
}
.container {
  max-width: 980px;
  margin: auto;
  background: #fff;
  padding: 30px;
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0,0,0,.08);
}
h1 { text-align: center; }

table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 20px;
}
th {
  background: #1f7aec;
  color: #fff;
  padding: 12px;
}
td {
  padding: 10px;
  text-align: center;
  border-bottom: 1px solid #ddd;
}

input {
  width: 100%;
  padding: 8px;
  text-align: center;
  border: 1px solid #ccc;
  border-radius: 6px;
}

.output {
  font-weight: bold;
}

.minus { color: #d32f2f; }
.profit { color: #2e7d32; }

.note {
  margin-top: 25px;
  background: #f9fafb;
  padding: 15px;
  border-radius: 10px;
  font-size: 14px;
}
</style>
</head>

<body>
<div class="container">
<h1>ðŸ“Š Kalkulator Harga Shopee vs Laba</h1>

<table>
<thead>
<tr>
  <th>Harga Shopee</th>
  <th>Potongan (%)</th>
  <th>Shopee Potong (Rp)</th>
  <th>Uang Real Masuk</th>
  <th>Modal</th>
  <th>Laba Bersih</th>
  <th>Margin (%)</th>
</tr>
</thead>

<tbody>
<tr>
  <td><input type="number" id="harga" value="35000"></td>
  <td><input type="number" id="potPersen" value="40"></td>
  <td><span class="output minus" id="potRp"></span></td>
  <td><input type="number" id="realMasuk" value="21000"></td>
  <td><input type="number" id="modal" value="15000"></td>
  <td><span class="output profit" id="laba"></span></td>
  <td><span class="output" id="margin"></span></td>
</tr>
</tbody>
</table>

<div class="note">
<b>Cara pakai:</b><br>
â€¢ Ubah <b>% Potongan</b> âžœ Uang Real Masuk otomatis<br>
â€¢ Ubah <b>Uang Real Masuk</b> âžœ Persen Potongan otomatis<br>
â€¢ Modal bebas diubah<br>
â€¢ Cocok untuk simulasi promo & pricing Shopee
</div>

</div>

<script>
const hargaEl = document.getElementById("harga");
const potPersenEl = document.getElementById("potPersen");
const potRpEl = document.getElementById("potRp");
const realMasukEl = document.getElementById("realMasuk");
const modalEl = document.getElementById("modal");
const labaEl = document.getElementById("laba");
const marginEl = document.getElementById("margin");

let mode = "persen"; // penanda input terakhir

function hitung() {
  const harga = Number(hargaEl.value) || 0;
  const modal = Number(modalEl.value) || 0;

  let potPersen = Number(potPersenEl.value) || 0;
  let realMasuk = Number(realMasukEl.value) || 0;

  if (mode === "persen") {
    const potRp = harga * potPersen / 100;
    realMasuk = harga - potRp;
    realMasukEl.value = Math.round(realMasuk);
  } else {
    const potRp = harga - realMasuk;
    potPersen = harga ? (potRp / harga * 100) : 0;
    potPersenEl.value = potPersen.toFixed(1);
  }

  const potRpFinal = harga - realMasuk;
  const laba = realMasuk - modal;
  const margin = modal ? (laba / modal * 100) : 0;

  potRpEl.innerText = "Rp " + potRpFinal.toLocaleString("id-ID");
  labaEl.innerText = "Rp " + laba.toLocaleString("id-ID");
  marginEl.innerText = margin.toFixed(1) + "%";
}

potPersenEl.addEventListener("input", () => {
  mode = "persen";
  hitung();
});

realMasukEl.addEventListener("input", () => {
  mode = "real";
  hitung();
});

hargaEl.addEventListener("input", hitung);
modalEl.addEventListener("input", hitung);

hitung();
</script>

</body>
</html>
