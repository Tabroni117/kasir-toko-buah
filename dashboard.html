<!DOCTYPE html><html lang="id"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOKO BUAH INDONESIA ‚Äì Aplikasi Kasir</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
            margin: 0;
            padding: 0;
        }.card {
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        border-radius: 12px;
        overflow: hidden;
        transition: all 0.3s ease;
        background-color: white;
        margin: 20px;
        padding: 20px;
    }

    .receipt-header {
        background: linear-gradient(135deg, #22c55e, #16a34a);
        color: white;
        padding: 20px;
        border-top-left-radius: 12px;
        border-top-right-radius: 12px;
    }

    .divider {
        height: 1px;
        background: linear-gradient(90deg, transparent, #e2e8f0, transparent);
    }

    .btn-primary {
        background: linear-gradient(135deg, #22c55e, #16a34a);
        color: white;
        padding: 10px 20px;
        border-radius: 8px;
        cursor: pointer;
        transition: transform 0.2s, box-shadow 0.2s;
    }

    .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3);
    }

    .btn-accent {
        background: linear-gradient(135deg, #f97316, #ea580c);
        color: white;
        padding: 10px 20px;
        border-radius: 8px;
        cursor: pointer;
        transition: transform 0.2s, box-shadow 0.2s;
    }

    .btn-accent:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3);
    }

    .bottom-nav {
        display: flex;
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        height: 50px;
        background-color: #ffffff;
        border-top: 1px solid #ccc;
        box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.1);
        justify-content: space-around;
        align-items: center;
        z-index: 999;
    }

    .bottom-nav button {
        background: none;
        border: none;
        font-size: 12px;
        display: flex;
        flex-direction: column;
        align-items: center;
        color: #4CAF50;
        width: 100%;
        height: 100%;
        cursor: pointer;
    }

    .bottom-nav i {
        font-size: 18px;
        margin-bottom: 2px;
    }
</style>

</head><body>
    <div class="text-center mt-6">
        <h1 class="text-3xl font-bold text-gray-800">TOKO BUAH <span class="text-green-600">INDONESIA</span></h1>
        <p class="text-gray-600 mt-2">Sistem Nota Digital Terintegrasi</p>
    </div><div class="card">
    <h2 class="text-xl font-bold mb-4 flex items-center">
        <i class="fas fa-shopping-cart mr-2 text-green-500"></i> Daftar Belanja
    </h2>
    <div class="overflow-x-auto">
        <table class="w-full">
            <thead>
                <tr class="text-left border-b border-gray-200">
                    <th class="pb-3 font-medium text-gray-600">Produk</th>
                    <th class="pb-3 font-medium text-gray-600 text-right">Harga</th>
                    <th class="pb-3 font-medium text-gray-600 text-center">Qty</th>
                    <th class="pb-3 font-medium text-gray-600 text-right">Subtotal</th>
                </tr>
            </thead>
            <tbody id="tabelBelanja" class="divide-y divide-gray-100">
            </tbody>
        </table>
    </div>

    <div class="mt-6 flex justify-end">
        <button id="checkoutBtn" class="btn-primary">
            <i class="fas fa-credit-card mr-2"></i> Proses Pembayaran
        </button>
    </div>
</div>

<div id="receiptContainer" class="hidden card">
    <div class="receipt-header">
        <h2 class="text-xl font-bold flex items-center">
            <i class="fas fa-receipt mr-2"></i> NOTA PEMBAYARAN
        </h2>
        <p class="text-green-100 text-sm mt-1">
            <i class="far fa-calendar-alt mr-1"></i>
            <span id="receiptDate">-</span>
        </p>
    </div>

    <div class="p-6">
        <div id="receiptItems" class="space-y-4 mb-6"></div>

        <div class="bg-gray-50 rounded-xl p-4 mb-6">
            <div class="flex justify-between">
                <span class="text-gray-600">Subtotal</span>
                <span id="subtotal" class="font-medium">Rp 0</span>
            </div>
            <div class="flex justify-between">
                <span class="text-gray-600">PPN (10%)</span>
                <span id="tax" class="font-medium">Rp 0</span>
            </div>
            <div class="divider my-2"></div>
            <div class="flex justify-between">
                <span class="font-semibold">Total Pembayaran</span>
                <span id="totalAmount" class="text-lg font-bold text-green-600">Rp 0</span>
            </div>
        </div>

        <div class="grid grid-cols-2 gap-3">
            <button onclick="window.print()" class="btn-primary">
                <i class="fas fa-print mr-2"></i> Cetak
            </button>
            <button onclick="alert('Nota akan dikirim ke email Anda')" class="btn-accent">
                <i class="fas fa-paper-plane mr-2"></i> Email
            </button>
            <button onclick="location.reload()" class="col-span-2 py-3 rounded-lg border border-gray-200 font-medium hover:bg-gray-50 transition-colors">
                <i class="fas fa-plus-circle mr-2"></i> Pesan Lagi
            </button>
        </div>
    </div>
</div>

<div class="bottom-nav">
    <button onclick="window.location.reload()"><i>üîÉ</i><span>Refresh</span></button>
    <button onclick="document.getElementById('checkoutBtn').scrollIntoView()"><i>üçì</i><span>Input</span></button>
    <button onclick="document.getElementById('checkoutBtn').click()"><i>üí≥</i><span>QRIS</span></button>
    <button onclick="window.location.href='dashboard.html'"><i>üìä</i><span>Pembeli</span></button>
    <button onclick="window.location.href='home.html'"><i>üìä</i><span>Penjual</span></button>
</div>

<script>
    let keranjang = [
        { nama: 'Rujak Mangga Mengkal', harga: 45500, jumlah: 2, detail: '650ml, Pedas, Pakai Kacang' },
        { nama: 'Rujak Buah Campur', harga: 20000, jumlah: 1, detail: '500ml, Manis, Pakai Kacang' }
    ];

    function updateTabel() {
        const tabel = document.getElementById("tabelBelanja");
        tabel.innerHTML = "";
        keranjang.forEach(item => {
            const subtotal = item.harga * item.jumlah;
            const row = `<tr>
                <td class="py-3">
                    <div class="font-medium">${item.nama}</div>
                    <div class="text-sm text-gray-500">${item.detail}</div>
                </td>
                <td class="py-3 text-right">Rp ${item.harga.toLocaleString()}</td>
                <td class="py-3 text-center">${item.jumlah}</td>
                <td class="py-3 text-right font-medium">Rp ${subtotal.toLocaleString()}</td>
            </tr>`;
            tabel.innerHTML += row;
        });
    }

    updateTabel();

    document.getElementById("checkoutBtn").addEventListener("click", () => {
        const now = new Date();
        const receiptDate = now.toLocaleString('id-ID', {
            weekday: 'long', day: 'numeric', month: 'long', year: 'numeric', hour: '2-digit', minute: '2-digit'
        });

        document.getElementById("receiptDate").textContent = receiptDate;

        const receiptItems = document.getElementById("receiptItems");
        receiptItems.innerHTML = "";
        let subtotal = 0;

        keranjang.forEach(item => {
            const itemSubtotal = item.harga * item.jumlah;
            subtotal += itemSubtotal;

            const itemHTML = `<div class="flex justify-between items-center pb-3">
                <div class="flex items-center">
                    <div class="w-10 h-10 rounded-md bg-green-50 flex items-center justify-center mr-3">
                        <i class="fas fa-leaf text-green-500"></i>
                    </div>
                    <div>
                        <div class="font-medium">${item.jumlah}x ${item.nama}</div>
                        <div class="text-sm text-gray-500">${item.detail}</div>
                    </div>
                </div>
                <div class="font-medium">Rp ${itemSubtotal.toLocaleString()}</div>
            </div>`;

            receiptItems.innerHTML += itemHTML;
        });

        const tax = subtotal * 0.1;
        const total = subtotal + tax;

        document.getElementById("subtotal").textContent = "Rp " + subtotal.toLocaleString();
        document.getElementById("tax").textContent = "Rp " + tax.toLocaleString();
        document.getElementById("totalAmount").textContent = "Rp " + total.toLocaleString();

        document.getElementById("receiptContainer").classList.remove("hidden");
        document.getElementById("receiptContainer").scrollIntoView({ behavior: 'smooth' });
    });
</script>

</body></html>
